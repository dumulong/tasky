<!DOCTYPE html>
<html>

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1">

<title>Tasky</title>

<meta name="author" content="Denis Dumulong">
<meta name="description" content="">
<meta name="keywords" content="">

<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">

<link rel="stylesheet" href="tasky.css" type="text/css">
<link rel="apple-touch-icon" href="./tasky.png" />

<script src="dayjs.min.js"></script>

</head>

<body>

<header class="well">
    <div id="task">
        <div class="task-title"></div>
        <i data-value="{logDate}" class="icon edit-task-icon" data-modal="modal-task">&#9998;</i>
    </div>
    <time class="delta-last"></time>
    <nav id="tasksList"></nav>
    <div class="add-task-help hidden">
        Please click on the plus sign to add a task.
    </div>
    <div class="add-date-div">
        <input name="selectDate" id="selectDate" value="" />
        <button name="btnAddLog" id="btnAddLog" onclick="addLogDate ()">Add</button>
    </div>
</header>

<main class="task-data">
    <div class="task-desc"></div>

    <nav class="pagination pagination-top"></nav>

    <section class="logs"></section>

    <nav class="pagination pagination-bottom"></nav>

    <nav class="items-per-page">
        <div>Items per pages: </div>
        <div class="page-size" data-page-size="10" onclick="changePageSize(10)">10</div>
        <div class="page-size" data-page-size="25" onclick="changePageSize(25)">25</div>
        <div class="page-size" data-page-size="50" onclick="changePageSize(50)">50</div>
        <div class="page-size" data-page-size="100" onclick="changePageSize(100)">100</div>
    </nav>
</main>

<footer class="footer" >
    <a id="openLSData" data-modal="modal-local-storage">Show/Set Local Storage</a>
</footer>


<!-- Log template -->
<script id="log-template" type="text/template">
    <div class="log">
        <div class="log-date">
            {logDateLabel}
            <i data-value="{logDate}" class="icon edit-log-icon" data-modal="modal-edit-log">&#9998;</i>
        </div>
        <div class="log-comment">{comment}</div>
    </div>
</script>

<!-- Local Storage Dialog -->
<div class="modal" id="modal-local-storage" data-pre-load-fnc="fillLSData">
    <div class="modal-bg modal-exit"></div>
    <div class="modal-container modal-lg">
        <button class="modal-close modal-exit">X</button>
        <div class="modal-subtitle">Local Storage</div>
        <div>
            <div class="modal-button-group">
                <button onclick="copyLSData()">Copy</button>
            </div>
            <textarea id="lsData" name="lsData" rows="10"></textarea>
            <div class="modal-button-group">
                <button id="btnSetLS" onclick="setLSData()">Set</button>
                <button id="btnClose" onclick="closeAllModal()">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!-- New Task Dialog -->
<div class="modal" id="modal-task" data-pre-load-fnc="toggleTaskAddUpdate">
    <div class="modal-bg modal-exit"></div>
    <div class="modal-container modal-md">
        <button class="modal-close modal-exit">X</button>
        <div class="modal-subtitle">Add Task</div>
        <div>
            <input name="newTaskName" id="newTaskName" value="" />
            <div class="task-desc-input">
                <div>Description</div>
                <textarea name="taskDesc" id="taskDesc"  cols="30" rows="4" value=""></textarea>
            </div>
            <div class="modal-button-group">
                <button name="btnAddTask" id="btnAddTask" onclick="addTask ()">Add</button>
                <button name="btnUpdateTask" id="btnUpdateTask" onclick="updateTask ()">Update</button>
                <button name="btnCancelTask" id="btnCancelTask" onclick="closeAllModal ()">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!-- Edit Log Dialog -->
<div class="modal" id="modal-edit-log" data-pre-load-fnc="fillLogData">
    <div class="modal-bg modal-exit"></div>
    <div class="modal-container modal-md">
        <button class="modal-close modal-exit">X</button>
        <div id="editLogTask" class="modal-title"></div>
        <div id="editLogDate" class="modal-subtitle"></div>
        <div class="log-delta"></div>
        <div>
            <textarea name="editLogComment" id="editLogComment" rows="4"></textarea>
            <div class="modal-button-group">
                <button name="btnSaveLog" id="btnSaveLog" onclick="saveLog ()">Save</button>
                <button name="btnDeleteLog" id="btnDeleteLog" onclick="deleteLog ()">Delete</button>
            </div>
            <div class="modal-button-group">
                <button name="btnCancelTask" id="btnCancelTask" onclick="closeAllModal ()">Cancel</button>
            </div>
        </div>
    </div>
</div>

<script src="tasky.js"></script>

<script>
    loadPage ();
</script>

</body>
</html>